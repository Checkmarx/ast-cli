2024/09/17 14:07:16 CLI integration tests started
=== RUN   TestAuthValidate
    auth_test.go:202: assertion failed: error is not nil: Could not reach provided Checkmarx server /api/scans 
        : Validation should pass
--- FAIL: TestAuthValidate (20.04s)
=== RUN   TestAuthValidateClientAndSecret
2024/09/17 14:07:36 CLI Version: dev
2024/09/17 14:07:36 CLI Configuration:
2024/09/17 14:07:36                    cx_base_uri: https://ast-master-components.dev.cxast.net
2024/09/17 14:07:36             cx_proxy_auth_type: basic
2024/09/17 14:07:36                      cx_branch: 
2024/09/17 14:07:36                     cx_timeout: 30
2024/09/17 14:07:36                      cx_apikey: 
2024/09/17 14:07:36               cx_base_auth_uri: https://iam-dev.dev.cxast.net
2024/09/17 14:07:36                      cx_tenant: dev_tenant
2024/09/17 14:07:36                     http_proxy: ***
2024/09/17 14:07:36                   cx_client_id: ***
2024/09/17 14:07:36               cx_client_secret: ***
2024/09/17 14:07:36 Base Auth URI - Extract from Base Auth URI flag
2024/09/17 14:07:36 Base Auth URI - https://iam-dev.dev.cxast.net/auth/realms/dev_tenant 
2024/09/17 14:07:36 Checking cache for API access token.
2024/09/17 14:07:36 Base URI - Extract from JWT token
2024/09/17 14:07:36 Base URI - https://ast-master-components.dev.cxast.net 
2024/09/17 14:07:36 Creating HTTP Client with Proxy: ***
2024/09/17 14:07:36 Sending API request to:
2024/09/17 14:07:36 GET /api/scans HTTP/1.1
Host: ast-master-components.dev.cxast.net
Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJlMXd2YTJWRmlKakZYLWlUaVpQRmJfc0U0SEhaZ3RTV2hkZE5NR0sxNzRzIn0.eyJleHAiOjE3MjY1Nzk5NTksImlhdCI6MTcyNjU3ODE1OSwiYXV0aF90aW1lIjoxNzI2NTc4MTUxLCJqdGkiOiIyYjYwZGQ5MS00NDMxLTRjYWItOTc5Ny1lYTI3Y2NhMDNlNmQiLCJpc3MiOiJodHRwczovL2lhbS1kZXYuZGV2LmN4YXN0Lm5ldC9hdXRoL3JlYWxtcy9kZXZfdGVuYW50IiwiYXVkIjpbInJlYWxtLW1hbmFnZW1lbnQiLCJhY2NvdW50Il0sInN1YiI6ImY2Mzc0ZTQwLTNkNTYtNGMyZS1iMGY3LTliNWUxZTllYzRhYiIsInR5cCI6IkJlYXJlciIsImF6cCI6ImFzdC1hcHAiLCJzaWQiOiJmM2ZkMTAxOC1lYTlmLTRhZDctOWJhYS04NzEzMTY4ZmQyZDUiLCJhbGxvd2VkLW9yaWdpbnMiOlsiKiIsIi8qIl0sInJlc291cmNlX2FjY2VzcyI6eyJyZWFsbS1tYW5hZ2VtZW50Ijp7InJvbGVzIjpbInZpZXctcmVhbG0iLCJ2aWV3LWlkZW50aXR5LXByb3ZpZGVycyIsIm1hbmFnZS1pZGVudGl0eS1wcm92aWRlcnMiLCJpbXBlcnNvbmF0aW9uIiwicmVhbG0tYWRtaW4iLCJjcmVhdGUtY2xpZW50IiwibWFuYWdlLXVzZXJzIiwidW1hX3Byb3RlY3Rpb24iLCJxdWVyeS1yZWFsbXMiLCJtYW5hZ2Uta2V5cyIsInZpZXctYXV0aG9yaXphdGlvbiIsInF1ZXJ5LWNsaWVudHMiLCJxdWVyeS11c2VycyIsIm1hbmFnZS1ldmVudHMiLCJtYW5hZ2UtcmVhbG0iLCJ2aWV3LWV2ZW50cyIsInZpZXctdXNlcnMiLCJ2aWV3LWNsaWVudHMiLCJtYW5hZ2UtYXV0aG9yaXphdGlvbiIsIm1hbmFnZS1ncm91cHMiLCJtYW5hZ2UtY2xpZW50cyIsInF1ZXJ5LWdyb3VwcyJdfSwiYWNjb3VudCI6eyJyb2xlcyI6WyJtYW5hZ2UtYWNjb3VudCIsIm1hbmFnZS1hY2NvdW50LWxpbmtzIiwidmlldy1wcm9maWxlIl19fSwic2NvcGUiOiJvcGVuaWQgaWFtLWFwaSBncm91cHMgYXN0LWFwaSBwcm9maWxlIHJvbGVzIGVtYWlsIiwidGVuYW50X2lkIjoiaWFtLWRldi5kZXYuY3hhc3QubmV0Ojo3NWQ0ZmUzNS05NjVhLTQ1MDYtYjIyNi1lMDE1NWVjODRjMzQiLCJ0ZW5hbnRfbmFtZSI6ImRldl90ZW5hbnQiLCJkb3dubG9hZF9zb3VyY2VfY29kZV9lbmFibGVkIjp0cnVlLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwicm9sZXMiOlsibWFuYWdlLXVzZXJzIiwibWFuYWdlLWtleXMiLCJtYW5hZ2UtZ3JvdXBzIiwidW1hX2F1dGhvcml6YXRpb24iLCJ1c2VyIiwibWFuYWdlLWNsaWVudHMiLCJpYW0tYWRtaW4iLCJkZWZhdWx0LXJvbGVzLTc1ZDRmZTM1LTk2NWEtNDUwNi1iMjI2LWUwMTU1ZWM4NGMzNCJdLCJldWxhLWFjY2VwdGVkIjp0cnVlLCJncm91cHMiOlsiM2M4YzkzMWMtNzJhNS00MTI1LTljZmEtZTAzMDY4M2RkNjk5IiwiZDg2ZDc1ZjYtMGI2Zi00YmI1LWFmNjgtNzMyZGUxNTU4ZjYyIiwiZDI1YmM4MGEtYTNjZC00NDkxLTk4YTEtNzg2MzlhNmNjZjA2IiwiYzA1MjIxZGQtOWQ0Yi00NWRjLWEyZGEtYmQzMGVmMzUwMGVjIiwiYTNjZDAxZWUtOTkzZS00MmNlLWI5NWItNmJlNDBlNjBiOTI3Il0sImdyb3Vwc05hbWVzIjpbIkdyb3VwXzQ1MjcxMzk4MjMzNTI4ODkwMzMiLCJHcm91cF81MjI0NDA1OTIyODgyNDUyODM2IiwiR3JvdXBfNjc0NjY1ODgwNzAzNTM3NDQwNSIsIkdyb3VwXzg4OTUwNDAyMjM4MDI5NTQ1NDMiLCJHcm91cF83NzE1OTYxMjU2Nzg1NDg3NzI3Il0sImNiLXVybCI6Imh0dHBzOi8vY2hlY2ttYXJ4LmNvZGViYXNoaW5nLmNvbS8iLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJvcmdfYWRtaW4iLCJnaXZlbl9uYW1lIjoib3JnIiwiYXN0LWJhc2UtdXJsIjoiaHR0cHM6Ly9hc3QtbWFzdGVyLWNvbXBvbmVudHMuZGV2LmN4YXN0Lm5ldCIsInNmLWlkIjoiMDAxM3owMDAwMkx6Y3ZBQUFSIiwicm9sZXNfYXN0IjpbImNyZWF0ZS1wcm9qZWN0IiwiYW5hbHl0aWNzLXNjYW4tZGFzaGJvYXJkLXZpZXciLCJkZWxldGUtd2ViaG9vayIsImRlbGV0ZS1hcHBsaWNhdGlvbiIsIkVkaXRlZCB0ZXN0LXJvbGVfNjMwNDc2NDQzOTMwMTQyOTU3NyIsImRhc3QtYWRtaW4iLCJkYXN0LWRlbGV0ZS1zY2FuIiwiY3JlYXRlLXdlYmhvb2siLCJhbmFseXRpY3MtZXhlY3V0aXZlLW92ZXJ2aWV3LXZpZXciLCJ2aWV3LXByb2plY3RzLWlmLWluLWdyb3VwIiwidXBkYXRlLXNjYW4iLCJFZGl0ZWQgdGVzdC1yb2xlXzUxNzMwNzE3MTI1MTM5ODU0MjMiLCJ1cGRhdGUtcmVzdWx0LXNldmVyaXR5IiwiZGVsZXRlLXByb2plY3QiLCJFZGl0ZWQgdGVzdC1yb2xlXzE1MzczMDc2OTA3MzU5MDMzMTAiLCJvcGVuLWZlYXR1cmUtcmVxdWVzdCIsInZpZXctcG9saWN5LW1hbmFnZW1lbnQiLCJkYXN0LXVwZGF0ZS1yZXN1bHQtc3RhdGUtbm90LWV4cGxvaXRhYmxlIiwidXBkYXRlLXJlc3VsdC1zdGF0ZS1ub3QtZXhwbG9pdGFibGUiLCJFZGl0ZWQgdGVzdC1yb2xlXzQwNzM0MjYyMTkwNDY4Mzg4NDYiLCJhc3Qtcmlzay1tYW5hZ2VyIiwidmlldy1xdWVyaWVzIiwibWFuYWdlLXJlcG9ydHMiLCJtYW5hZ2Utd2ViaG9vayIsInVwZGF0ZS1zY2hlZHVsZS1zY2FuIiwiY3JlYXRlLWFwcGxpY2F0aW9uIiwiRWRpdGVkIHRlc3Qtcm9sZV80MDE1MTg5MDg5MzQyNTYxMjY5IiwicXVlcmllcy1lZGl0b3IiLCJ1cGRhdGUtcXVlcnkiLCJ1cGRhdGUtcmVzdWx0LW5vdC1leHBsb2l0YWJsZSIsImRhc3QtdXBkYXRlLXNjYW4iLCJ1cGRhdGUtcHJvamVjdCIsInZpZXctZW5naW5lcyIsImNyZWF0ZS1xdWVyeSIsImRlbGV0ZS1zY2FuIiwidmlldy1jb2RlYmFzaGluZyIsImltcG9ydC1maW5kaW5ncy1leHRlcm5hbC1wbGF0Zm9ybXMiLCJFZGl0ZWQgdGVzdC1yb2xlXzk1MjE2NTQwMzU3NzEzMDY5NyIsImRhc3QtY3JlYXRlLWVudmlyb25tZW50Iiwidmlldy1wcmVzZXQiLCJhZGQtbm90ZXMiLCJhYm9ydC1kYXRhLXJldGVudGlvbiIsImFzc2lnbi10by1hcHBsaWNhdGlvbiIsIkVkaXRlZCB0ZXN0LXJvbGVfMjc4MTQ4NDU2NjE3NDcwNzkxOSIsInZpZXctd2ViaG9va3MiLCJvcGVuLXN1cHBvcnQtdGlja2V0Iiwidmlldy1hY2Nlc3MiLCJ2aWV3LXBvb2xzIiwic2FzdC1taWdyYXRpb24iLCJ1cGRhdGUtYXBwbGljYXRpb24iLCJkYXN0LXVwZGF0ZS1yZXN1bHQtc2V2ZXJpdHkiLCJ1cGRhdGUtcHJvamVjdC1wYXJhbXMiLCJjcmVhdGUtcHJlc2V0IiwiZGFzdC1leHRlcm5hbC1zY2FucyIsInZpZXctZmVlZGJhY2thcHAiLCJjcmVhdGUtcG9saWN5LW1hbmFnZW1lbnQiLCJ2aWV3LWNuYXMiLCJ2aWV3LXRlbmFudC1wYXJhbXMiLCJtYW5hZ2UtcHJvamVjdCIsInZpZXctc2NhbnMiLCJjcmVhdGUtc2NhbiIsInZpZXctcHJvamVjdHMiLCJ2aWV3LXNjaGVkdWxlLXNjYW5zIiwidmlldy1yaXNrLW1hbmFnZW1lbnQiLCJhc3Qtc2Nhbm5lciIsInN0YXJ0LWRhdGEtcmV0ZW50aW9uIiwiYWRkLXBhY2thZ2UiLCJkZWxldGUtcXVlcnkiLCJ1cGRhdGUtZmVlZGJhY2thcHAiLCJ2aWV3LXByb2plY3QtcGFyYW1zIiwidmlldy1yaXNrLW1hbmFnZW1lbnQtZGFzaGJvYXJkIiwiZGVsZXRlLXBvb2wiLCJjcmVhdGUtcG9vbCIsImNyZWF0ZS1zY2hlZHVsZS1zY2FuIiwidXBkYXRlLXRlbmFudC1wYXJhbXMiLCJ1cGRhdGUtc2NhLWxpY2Vuc2Utc3RhdGUiLCJkb3dubG9hZC1zb3VyY2UtY29kZSIsImRhc3QtY2FuY2VsLXNjYW4iLCJjcmVhdGUtZmVlZGJhY2thcHAiLCJ1cGRhdGUtcGFja2FnZS1zdGF0ZS1tdXRlIiwidXBkYXRlLXBvb2wiLCJhY2Nlc3MtaWFtIiwidmlldy1yZXN1bHRzIiwiZGVsZXRlLXNjaGVkdWxlLXNjYW4iLCJkZWxldGUtZmVlZGJhY2thcHAiLCJ2aWV3LWRhdGEtcmV0ZW50aW9uIiwidXBkYXRlLXJpc2stbWFuYWdlbWVudCIsInVwZGF0ZS1yZXN1bHQiLCJ1cGRhdGUtcmVzdWx0LXN0YXRlcyIsInVwZGF0ZS1wb2xpY3ktbWFuYWdlbWVudCIsInVwZGF0ZS1wcmVzZXQiLCJ2aWV3LXJpc2stbWFuYWdlbWVudC10YWIiLCJkYXN0LXVwZGF0ZS1yZXN1bHRzIiwiZGFzdC1jcmVhdGUtc2NhbiIsImRlbGV0ZS1wb2xpY3ktbWFuYWdlbWVudCIsIm1hbmFnZS1jbmFzIiwidXBkYXRlLWFjY2VzcyIsIm1hbmFnZS1wb2xpY3ktbWFuYWdlbWVudCIsImFzdC12aWV3ZXIiLCJtYW5hZ2UtZmVlZGJhY2thcHAiLCJhbmFseXRpY3MtdnVsbmVyYWJpbGl0eS1kYXNoYm9hcmQtdmlldyIsInVwZGF0ZS1zY2EtbGljZW5zZS1wcm9wZXJ0aWVzIiwibWFuYWdlLWRhdGEtcmV0ZW50aW9uIiwiZGFzdC11cGRhdGUtcmVzdWx0LXN0YXRlcyIsImRlbGV0ZS1wcmVzZXQiLCJ2aWV3LWFwcGxpY2F0aW9ucyIsInZpZXctbGljZW5zZSIsInVwZGF0ZS1wYWNrYWdlLXN0YXRlLXNub296ZSIsInVwZGF0ZS1yZXN1bHQtc3RhdGUtcHJvcG9zZS1ub3QtZXhwbG9pdGFibGUiLCJkYXN0LXVwZGF0ZS1yZXN1bHQtc3RhdGUtcHJvcG9zZS1ub3QtZXhwbG9pdGFibGUiLCJvcmRlci1zZXJ2aWNlcyIsImFuYWx5dGljcy1yZXBvcnRzLWFkbWluIiwiZGFzdC11cGRhdGUtZW52aXJvbm1lbnQiLCJ2aWV3LXJlc3VsdHMtaWYtaW4tZ3JvdXAiLCJkYXN0LWRlbGV0ZS1lbnZpcm9ubWVudCIsInZpZXctc2NhbnMtaWYtaW4tZ3JvdXAiLCJ2aWV3LXByb2plY3QtcGFyYW1zLWlmLWluLWdyb3VwIiwiYXN0LWFkbWluIiwibWFuYWdlLWFjY2VzcyIsIm1hbmFnZS1hcHBsaWNhdGlvbiIsInVwZGF0ZS13ZWJob29rIl0sImlzLXNlcnZpY2UtdXNlciI6IiIsIm5hbWUiOiJvcmcgYWRtaW4iLCJ0ZW5hbnQtdHlwZSI6IkludGVybmFsIiwiYXN0LWxpY2Vuc2UiOnsiSUQiOjE1ODE0LCJUZW5hbnRJRCI6Ijc1ZDRmZTM1LTk2NWEtNDUwNi1iMjI2LWUwMTU1ZWM4NGMzNCIsIklzQWN0aXZlIjp0cnVlLCJQYWNrYWdlSUQiOjIxOCwiTGljZW5zZURhdGEiOnsiZmVhdHVyZXMiOlsiU1NPIl0sInNlcnZpY2VzIjpbIjMgQXBwc2VjIEhlbHBkZXNrIEFzc2lzdGFuY2UiLCIzIE9wdGltaXphdGlvbiBTZXJ2aWNlIE9yZGVyIl0sInNjc0VuYWJsZWQiOnRydWUsInVzZXJzQ291bnQiOjUwLCJkYXN0RW5hYmxlZCI6dHJ1ZSwic2VydmljZVR5cGUiOiJTdGFuZGFyZCIsImFjdGl2YXRpb25EYXRlIjoxNjI2MDAxMDMxMjI4LCJhbGxvd2VkRW5naW5lcyI6WyJTQVNUIiwiQVBJIFNlY3VyaXR5IiwiU0NBIiwiQXBwbGljYXRpb24gUmlzayBNYW5hZ2VtZW50IiwiQ29udGFpbmVycyIsIkRBU1QiLCJNYWxpY2lvdXMgUGFja2FnZXMiLCJTQ1MiLCJLSUNTIiwiRW50ZXJwcmlzZSBTZWNyZXRzIiwiQUkgUHJvdGVjdGlvbiIsIkNvZGViYXNoaW5nIl0sImNvZGVCYXNoaW5nVXJsIjoiaHR0cHM6Ly9jaGVja21hcnguY29kZWJhc2hpbmcuY29tLyIsImV4cGlyYXRpb25EYXRlIjoxNzUyMTQ1MDMxMDAwLCJtYXhRdWV1ZWRTY2FucyI6MTAwMCwibGFzdENvbW1lbnRMaW1pdCI6OTAsInVubGltaXRlZFByb2plY3RzIjp0cnVlLCJhcGlTZWN1cml0eUVuYWJsZWQiOnRydWUsImNvZGVCYXNoaW5nRW5hYmxlZCI6dHJ1ZSwibWF4Q29uY3VycmVudFNjYW5zIjoyMCwiY29kZUJhc2hpbmdVc2Vyc0NvdW50IjoxMCwiY3VzdG9tTWF4Q29uY3VycmVudFNjYW5zRW5hYmxlZCI6dHJ1ZX0sIlBhY2thZ2VOYW1lIjoiQ3hPbmUgRW50ZXJwcmlzZSJ9LCJzZXJ2aWNlX3VzZXJzX2VuYWJsZWQiOnRydWUsImZhbWlseV9uYW1lIjoiYWRtaW4iLCJ0ZW5hbnQiOiJkZXZfdGVuYW50IiwiZW1haWwiOiJhbGV4ckBjaGVja21hcnguY29tIn0.Ht4-1RLJxrekIhIakYb2f9S-rTmVF2wthvOyaBOw9IDn4WROPGMm-hNVSD0nbMgL546cH0WOdhrzRhZGLSrJcwh3J9Emu3--ahWxwh74HdrJZYMtVe9coNHOu28AA5wQwq6A3sy9p2yyDF8D6DxrF58D-vDiZK1ji8oC8cTQTkCAsNKCgtM4LQYUatPCGHUfxm_4t3Ixrvitxnhyz8uiKE5PIpsbVxyEhCiCLD7kmpnga7i22XMOCwEd0lDRg3v83UvCfuX_Ol7WqhMVnB0zo0eI45mZFBs2MBVAtSta77sISEF8_YTmR_WtHJ0r1nmdIvvaadPOhQunyNfJbsk9aA
User-Agent: ASTCLI/dev

2024/09/17 14:07:36 Request attempt 1 in 4
2024/09/17 14:07:36 Get "https://ast-master-components.dev.cxast.net/api/scans": proxyconnect tcp: dial tcp :0: connectex: The requested address is not valid in its context.
2024/09/17 14:07:36 Request failed in attempt 1
2024/09/17 14:07:41 Request attempt 2 in 4
2024/09/17 14:07:41 Get "https://ast-master-components.dev.cxast.net/api/scans": proxyconnect tcp: dial tcp :0: connectex: The requested address is not valid in its context.
2024/09/17 14:07:41 Request failed in attempt 2
2024/09/17 14:07:46 Request attempt 3 in 4
2024/09/17 14:07:46 Get "https://ast-master-components.dev.cxast.net/api/scans": proxyconnect tcp: dial tcp :0: connectex: The requested address is not valid in its context.
2024/09/17 14:07:46 Request failed in attempt 3
